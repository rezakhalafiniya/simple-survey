(function(e){function t(t){for(var r,i,o=t[0],u=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==a[u]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},s=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1f21":function(e,t,n){"use strict";n("c291")},2791:function(e,t,n){},3287:function(e,t,n){"use strict";n("b961")},"3a43":function(e,t,n){"use strict";n("fe0a")},"495c":function(e,t,n){"use strict";n("bf43")},5049:function(e,t,n){"use strict";n("de7b")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],i=(n("5c0b"),n("2877")),o={},u=Object(i["a"])(o,a,s,!1,null,null,null),l=u.exports,c=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("TopNav"),n("b-container",[n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{cols:"12",md:"auto"}},[n("Introduction")],1)],1),n("b-row",{staticClass:"justify-content-center"},[n("b-col",{attrs:{cols:"12",md:"auto"}},[n("Surveys")],1)],1)],1)],1)},p=[],f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0"},attrs:{id:"nav"}},[n("b-navbar",{staticClass:"nav-bar",attrs:{toggleable:"lg",type:"dark"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("router-link",{attrs:{to:{name:"Home"}}},[e._v("Simple Survey")])],1),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[e.user.email?n("b-nav-item",[n("b-nav",[n("router-link",{attrs:{to:{name:"NewSurvey"}}},[e._v("Add New Survey")])],1)],1):e._e(),n("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e.user.email?n("em",[e._v(e._s(e.user.email))]):n("em",[e._v("User")])]},proxy:!0}])},[e.user.email?e._e():n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.login",modifiers:{login:!0}}]},[e._v("Login")]),e.user.email?e._e():n("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.register",modifiers:{register:!0}}]},[e._v("Register")]),e.user.email?n("b-dropdown-item",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.logout.apply(null,arguments)}}},[e._v("Logout")]):e._e()],1)],1)],1)],1),n("b-modal",{attrs:{id:"login",title:"BootstrapVue","hide-footer":""}},[n("Login")],1),n("b-modal",{attrs:{id:"register",title:"BootstrapVue","hide-footer":""}},[n("Register")],1)],1)},v=[],m=n("5530"),b=n("2f62"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.doLogin.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Email","label-for":"email-input","invalid-feedback":"Email is required",type:"email"}},[n("b-form-input",{attrs:{id:"email-input",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("b-form-group",{attrs:{label:"Password","label-for":"password-input","invalid-feedback":"Password is required"}},[n("b-form-input",{attrs:{id:"password-input",required:"",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Login")])],1)],1)])},y=[],w={danger:function(e,t,n){e.$bvToast.toast("".concat(t),{title:n,autoHideDelay:5e3,variant:"danger",toaster:"b-toaster-top-center",appendToast:!1,solid:!0})},success:function(e,t,n){e.$bvToast.toast("".concat(t),{title:n,autoHideDelay:5e3,variant:"success",toaster:"b-toaster-top-center",appendToast:!1,solid:!0})},errors:function(e,t){for(var n in t)this.danger(e,t[n],n)}},g=w,_={name:"Login",computed:Object(m["a"])({},Object(b["c"])({user:"auth/getUser"})),data:function(){return{form:{email:null,password:null}}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({login:"auth/login"})),{},{doLogin:function(){var e=this;this.login({email:this.form.email,password:this.form.password}).then((function(){e.$bvModal.hide("login")})).catch((function(t){g.errors(e,t)}))}}),mounted:function(){}},x=_,q=Object(i["a"])(x,h,y,!1,null,null,null),I=q.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.doRegister.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Name","label-for":"name-input","invalid-feedback":"Email is required",type:"text"}},[n("b-form-input",{attrs:{id:"name-input",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",{attrs:{label:"Email","label-for":"email-input","invalid-feedback":"Email is required",type:"email"}},[n("b-form-input",{attrs:{id:"email-input",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("b-form-group",{attrs:{label:"Password","label-for":"password-input","invalid-feedback":"Password is required"}},[n("b-form-input",{attrs:{id:"password-input",required:"",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Register")])],1)],1)])},S=[],O=(n("b0c0"),{name:"Login",computed:Object(m["a"])({},Object(b["c"])({user:"auth/getUser"})),data:function(){return{form:{name:null,email:null,password:null}}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({register:"auth/register"})),{},{doRegister:function(){var e=this;console.log(this.form,this.user),this.register({name:this.form.name,email:this.form.email,password:this.form.password}).then((function(){e.$bvModal.hide("register")})).catch((function(t){g.errors(e,t)}))}}),mounted:function(){}}),P=O,j=Object(i["a"])(P,k,S,!1,null,null,null),R=j.exports,$={name:"TopNav",components:{Login:I,Register:R},computed:Object(m["a"])({},Object(b["c"])({user:"auth/getUser"})),methods:Object(m["a"])({},Object(b["b"])({logout:"auth/logout",setUser:"auth/setUser"})),mounted:function(){this.setUser()}},A=$,Q=(n("5049"),Object(i["a"])(A,f,v,!1,null,"a377c968",null)),T=Q.exports,D=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"introduction"}},[n("h1",[e._v("Wellcome")])])}],F={name:"Introduction"},N=F,U=(n("84fa"),Object(i["a"])(N,D,E,!1,null,"5dca8712",null)),C=U.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"surveys"}},e._l(e.surveys,(function(t,r){return n("b-col",{key:r},[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:t.title}},[n("b-card-text",[e._v(" "+e._s(t.description)+" ")]),n("b-button",{attrs:{href:"survey/"+t.id,variant:"primary"}},[e._v("Start the Survey")])],1)],1)})),1)},J=[],L={name:"Surveys",data:function(){return{}},mounted:function(){var e=this;this.getSurveys().then((function(t){t&&console.log(e.surveys)}))},methods:Object(m["a"])({},Object(b["b"])({getSurvey:"survey/getSurvey",getSurveys:"survey/getSurveys"})),computed:Object(m["a"])({},Object(b["c"])({surveys:"survey/surveys"}))},H=L,B=(n("495c"),Object(i["a"])(H,M,J,!1,null,"3d06f014",null)),V=B.exports,G={name:"Home",components:{TopNav:T,Introduction:C,Surveys:V},mounted:function(){document.title="Home"}},z=G,W=Object(i["a"])(z,d,p,!1,null,null,null),K=W.exports,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"survey"},[n("TopNav"),n("b-container",[n("b-row",{staticClass:"justify-content-center"},[n("b-col",[n("Participant")],1)],1),n("b-row",[n("b-col",[e.showEdit?e._e():n("SurveyComponent")],1)],1)],1)],1)},Y=[],Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",[n("b-btn",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleShowEdit.apply(null,arguments)}}},[e._v("Close Edit")]),n("b-form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.saveSurvey.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Title","label-for":"title-input","invalid-feedback":"Title is required",type:"text"}},[n("b-form-input",{attrs:{id:"title-input",required:""},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),n("b-form-group",{attrs:{label:"Description","label-for":"description-input","invalid-feedback":"Description is required",type:"text"}},[n("b-form-input",{attrs:{id:"description-input",required:""},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),n("b-form-group",{attrs:{label:"Slug","label-for":"slug-input","invalid-feedback":"Slug is required",type:"text"}},[n("b-form-input",{attrs:{id:"slug-input",required:""},model:{value:e.form.slug,callback:function(t){e.$set(e.form,"slug",t)},expression:"form.slug"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")])],1)],1)],1),n("b-card",[n("b-tabs",{attrs:{card:""},model:{value:e.tabIndexGeneral,callback:function(t){e.tabIndexGeneral=t},expression:"tabIndexGeneral"}},[n("b-tab",{attrs:{title:"Questions"}},[n("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[e._l(e.questions,(function(t,r){return[n("b-tab",{key:r,attrs:{title:"Question "+(r+1),lazy:""}},[n("QuestionForm",{key:r,attrs:{surveyId:t.survey_id,"question-info":t},on:{questionAdded:e.questionAdded,questionDeleted:function(t){return e.questionDeleted(r)}}})],1)]})),e.surveyId?n("b-tab",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addQuestionComponent.apply(null,arguments)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("b-icon-plus-lg")]},proxy:!0}],null,!1,3780627485)}):e._e()],2)],1),n("b-tab",{attrs:{title:"Rules"}},[n("b-tabs",{attrs:{card:""},model:{value:e.tabIndexRule,callback:function(t){e.tabIndexRule=t},expression:"tabIndexRule"}},[e._l(e.rules,(function(e,t){return[n("b-tab",{key:t,attrs:{title:"Rule "+(t+1)}},[n("RuleForm",{key:t,attrs:{surveyId:e.survey_id,"rule-info":e}})],1)]})),e.surveyId?n("b-tab",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addRuleComponent.apply(null,arguments)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("b-icon-plus-lg")]},proxy:!0}],null,!1,3780627485)}):e._e()],2)],1)],1)],1)],1)},ee=[],te=(n("a434"),n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.saveQuestion.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Question Text","label-for":"text-input","invalid-feedback":"Title is required",type:"text"}},[n("b-form-input",{attrs:{id:"text-input",required:""},model:{value:e.form.question_text,callback:function(t){e.$set(e.form,"question_text",t)},expression:"form.question_text"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")]),e.questionId?n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.doDelete.apply(null,arguments)}}},[e._v("Delete")]):e._e()],1),n("b-tabs",[n("b-tab",{attrs:{title:"Answers"}},[n("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[e._l(e.answers,(function(t,r){return[n("b-tab",{key:r,attrs:{title:"Answer "+(r+1),lazy:""}},[n("AnswerForm",{key:r,attrs:{questionId:e.questionId,"answer-info":t},on:{answerAdded:e.answerAdded,answerDeleted:function(t){return e.answerDeleted(r)}}})],1)]})),e.questionId?n("b-tab",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.addAnswerComponent.apply(null,arguments)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("b-icon-plus-lg")]},proxy:!0}],null,!1,3780627485)}):e._e()],2)],1)],1)],1)],1)}),ne=[],re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.saveAnswer.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Answer Text","label-for":"text-input","invalid-feedback":"Title is required",type:"text"}},[n("b-form-input",{attrs:{id:"text-input",required:""},model:{value:e.form.answer_text,callback:function(t){e.$set(e.form,"answer_text",t)},expression:"form.answer_text"}})],1),n("b-form-group",{attrs:{label:"Answer Value","label-for":"value-input","invalid-feedback":"Value is required",type:"text"}},[n("b-form-input",{attrs:{id:"text-input",required:""},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")]),e.answerId?n("b-button",{attrs:{variant:"danger"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.doDelete.apply(null,arguments)}}},[e._v("Delete")]):e._e()],1)],1)],1)},ae=[],se={name:"AnswerForm",components:{},data:function(){return{form:{},answerId:null}},props:{questionId:null,answerInfo:{}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createAnswer:"answer/createAnswer",updateAnswer:"answer/updateAnswer",deleteAnswer:"answer/deleteAnswer"})),{},{saveAnswer:function(){var e=this;this.form.question_id=this.questionId,this.answerId?this.updateAnswer({payload:this.form,id:this.answerId}).then((function(t){e.$emit("answerAdded",{data:t,key:e.$vnode.key}),g.success(e,"Answer Successfully Updated","Answer Updated")})).catch((function(t){g.errors(e,t)})):this.createAnswer({payload:this.form}).then((function(t){e.answerId=t.id,e.$emit("answerAdded",{data:t,key:e.$vnode.key}),g.success(e,"Answer Successfully Saved","Answer Saved")})).catch((function(t){g.errors(e,t)}))},doDelete:function(){this.deleteAnswer({id:this.answerId}),this.$emit("answerDeleted",this.answerId),this.answerId=null}}),computed:Object(m["a"])({},Object(b["c"])({answer:"answer/answer"})),mounted:function(){0!==Object.keys(this.answerInfo)&&(this.answerId=this.answerInfo.id,this.form=this.answerInfo)}},ie=se,oe=Object(i["a"])(ie,re,ae,!1,null,null,null),ue=oe.exports,le={name:"QuestionForm",components:{AnswerForm:ue},props:{surveyId:null,questionInfo:{}},data:function(){return{form:{},answers:[],questionId:null,tabIndex:0}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createQuestion:"question/createQuestion",updateQuestion:"question/updateQuestion",deleteQuestion:"question/deleteQuestion"})),{},{saveQuestion:function(){var e=this;this.form.survey_id=this.surveyId,this.questionId?this.updateQuestion({payload:this.form,id:this.questionId}).then((function(t){e.$emit("questionAdded",{data:t,key:e.$vnode.key}),g.success(e,"Question Successfully Updated","Question Updated")})).catch((function(t){g.errors(e,t)})):this.createQuestion({payload:this.form}).then((function(t){e.questionId=t.id,e.$emit("questionAdded",{data:t,key:e.$vnode.key}),g.success(e,"Question Successfully Saved","Question Saved")})).catch((function(t){g.errors(e,t)}))},doDelete:function(){this.deleteQuestion({id:this.questionId}),this.$emit("questionDeleted",this.questionId),this.questionId=null},addAnswerComponent:function(){var e=this,t=this.answers.length;this.answers.push({}),this.$nextTick((function(){e.$nextTick((function(){e.$nextTick((function(){requestAnimationFrame((function(){e.tabIndex=t}))}))}))}))},answerDeleted:function(e){console.log(e);for(var t=0;t<this.answers.length;t++)t===e&&this.answers.splice(t,1);0===this.tabIndex?this.tabIndex++:this.tabIndex--},answerAdded:function(e){console.log(e,this.answers),this.answers[e.key]=e.data}}),computed:Object(m["a"])({},Object(b["c"])({question:"question/question"})),mounted:function(){0!==Object.keys(this.questionInfo).length&&(this.questionId=this.questionInfo.id,this.form=this.questionInfo,this.questionInfo.answers?this.answers=this.questionInfo.answers:this.answers=[])}},ce=le,de=Object(i["a"])(ce,te,ne,!1,null,null,null),pe=de.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.saveRule.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Result Text","label-for":"result-text-input","invalid-feedback":"Result Text is required",type:"text"}},[n("b-form-input",{attrs:{id:"result-text-input",required:""},model:{value:e.form.result_text,callback:function(t){e.$set(e.form,"result_text",t)},expression:"form.result_text"}})],1),n("b-form-group",{attrs:{label:"Rule Logic","label-for":"rule-logic-input","invalid-feedback":"Value is required",type:"text"}},[n("b-form-input",{attrs:{id:"rule-logic-input",required:"","aria-describedby":"rule-logic-input-help-block"},model:{value:e.form.logic,callback:function(t){e.$set(e.form,"logic",t)},expression:"form.logic"}}),n("b-form-text",{attrs:{id:"rule-logic-input-help-block"}},[e._v("The format of the logic: Operator;value (operator and value are seperated by semicolon.) "),n("br"),e._v("Example: <;25 . This means that this rule text will be shown if the sum of the answered values are smaller than 25. "),n("br"),e._v("Possible Operator: < , > , <= , >=")])],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Save")])],1)],1)],1)},ve=[],me={name:"RuleForm",components:{},data:function(){return{form:{},ruleId:null}},props:{surveyId:null,ruleInfo:{}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createRule:"rule/createRule",updateRule:"rule/updateRule",deleteRule:"rule/deleteRule"})),{},{saveRule:function(){var e=this;this.form.survey_id=this.surveyId,this.ruleId?this.updateRule({payload:this.form,id:this.ruleId}).then((function(){g.success(e,"Rule Successfully Updated","Rule Updated")})).catch((function(t){g.errors(e,t)})):this.createRule({payload:this.form}).then((function(t){e.ruleId=t.id,g.success(e,"Rule Successfully Saved","Rule Saved")})).catch((function(t){g.errors(e,t)}))}}),computed:Object(m["a"])({},Object(b["c"])({rule:"rule/rule"})),mounted:function(){0!==Object.keys(this.ruleInfo)&&(this.ruleId=this.ruleInfo.id,this.form=this.ruleInfo)}},be=me,he=Object(i["a"])(be,fe,ve,!1,null,null,null),ye=he.exports,we={name:"surveyForm",components:{QuestionForm:pe,RuleForm:ye},props:{surveyInfo:{}},data:function(){return{form:{},questions:[],rules:[],surveyId:null,tabIndex:0,tabIndexRule:0,tabIndexGeneral:0}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createSurvey:"survey/createSurvey",updateSurvey:"survey/updateSurvey"})),{},{saveSurvey:function(){var e=this;this.surveyId?this.updateSurvey({payload:this.form,id:this.surveyId}).then((function(t){e.surveyId=t.id,g.success(e,"Survey Successfully Updated","Survey Updated")})).catch((function(t){g.errors(e,t)})):this.createSurvey({payload:this.form}).then((function(t){e.surveyId=t.id,g.success(e,"Survey Successfully Saved","Survey Saved")})).catch((function(t){g.errors(e,t)}))},addQuestionComponent:function(){var e=this,t=this.questions.length;this.questions.push({survey_id:this.survey.id}),this.$nextTick((function(){e.$nextTick((function(){e.$nextTick((function(){requestAnimationFrame((function(){e.tabIndex=t}))}))}))}))},addRuleComponent:function(){var e=this,t=this.rules.length;this.rules.push({survey_id:this.survey.id}),this.$nextTick((function(){e.$nextTick((function(){e.$nextTick((function(){requestAnimationFrame((function(){e.tabIndexRule=t}))}))}))}))},toggleShowEdit:function(){console.log("toggle"),this.$emit("showEditChanged",!1)},questionDeleted:function(e){for(var t=0;t<this.questions.length;t++)t===e&&this.questions.splice(t,1);0===this.tabIndex?this.tabIndex++:this.tabIndex--},questionAdded:function(e){this.questions[e.key]=e.data}}),computed:Object(m["a"])({},Object(b["c"])({survey:"survey/survey"})),mounted:function(){this.surveyInfo&&0!==Object.keys(this.surveyInfo).length&&(this.surveyId=this.surveyInfo.id,this.form=this.surveyInfo,this.questions=this.surveyInfo.questions,this.rules=this.surveyInfo.rules)}},ge=we,_e=Object(i["a"])(ge,Z,ee,!1,null,null,null),xe=_e.exports,qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showEdit?n("SurveyForm",{attrs:{"survey-info":e.survey},on:{showEditChanged:e.updateShowEdit}}):e._e(),e.showEdit||e.showResults?e._e():n("b-card",{attrs:{title:e.survey.title,"sub-title":e.survey.slug}},[e._v(" "+e._s(e.survey.description)+" "),n("div",[e.user.email?n("b-btn",{on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.showEdit=!e.showEdit}}},[e._v("Edit")]):e._e()],1),n("b-tabs",{attrs:{card:""},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},e._l(e.survey.questions,(function(t,r){return n("b-tab",{key:r,attrs:{title:"Question "+(r+1)}},[n("h2",[e._v(e._s(t.question_text))]),n("b-card-text",[n("b-form-radio-group",{attrs:{id:t.question_text,options:e.radioOptions,stacked:""},model:{value:t.selectedAnswerId,callback:function(n){e.$set(t,"selectedAnswerId",n)},expression:"question.selectedAnswerId"}})],1)],1)})),1),n("b-btn",{on:{click:e.goBack}},[e._v("Back")]),n("b-btn",{on:{click:e.goNext}},[e._v("Next")])],1),e.showResults?n("ResultTexts"):e._e(),e.showResults||e.showEdit?e._e():n("b-btn",{on:{click:e.saveResult}},[e._v("submit")])],1)},Ie=[],ke=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",e._l(e.results,(function(t,r){return n("b-card-body",{key:r},[e._v(" "+e._s(t)+" ")])})),1)],1)}),Se=[],Oe={name:"ResultTexts",computed:Object(m["a"])({},Object(b["c"])({results:"survey/surveyResultTexts"}))},Pe=Oe,je=(n("3a43"),Object(i["a"])(Pe,ke,Se,!1,null,"d7b604b0",null)),Re=je.exports,$e={name:"SurveyComponent",data:function(){return{tabIndex:0,participant:{},showEdit:!1,showResults:!1}},components:{SurveyForm:xe,ResultTexts:Re},computed:Object(m["a"])(Object(m["a"])({},Object(b["c"])({survey:"survey/survey",user:"auth/getUser"})),{},{radioOptions:function(){return-1===this.tabIndex?this.survey.questions[0].answers.map((function(e){return{value:e.id,text:e.answer_text}})):this.survey.questions[this.tabIndex]?this.survey.questions[this.tabIndex].answers.map((function(e){return{value:e.id,text:e.answer_text}})):void 0}}),mounted:function(){localStorage.participant&&(this.participant=JSON.parse(localStorage.participant))},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createResult:"result/createResult",updateResult:"result/updateResult",getResultTexts:"survey/getResultTexts"})),{},{updateShowEdit:function(e){this.showEdit=e},goNext:function(){var e=this;localStorage.participant?(this.participant=JSON.parse(localStorage.participant),this.survey.questions[this.tabIndex].selectedAnswerId?this.survey.questions[this.tabIndex].resultId?this.updateResult({payload:{answer_id:this.survey.questions[this.tabIndex].selectedAnswerId,question_id:this.survey.questions[this.tabIndex].id,participant_id:this.participant.id,survey_id:this.survey.questions[this.tabIndex].survey_id},id:this.survey.questions[this.tabIndex].resultId}).then((function(t){e.survey.questions[e.tabIndex].resultId=t.id,e.tabIndex=e.tabIndex+1})).catch((function(t){g.errors(e,t)})):this.createResult({payload:{answer_id:this.survey.questions[this.tabIndex].selectedAnswerId,question_id:this.survey.questions[this.tabIndex].id,participant_id:this.participant.id,survey_id:this.survey.questions[this.tabIndex].survey_id}}).then((function(t){e.survey.questions[e.tabIndex].resultId=t.id,e.tabIndex=e.tabIndex+1})).catch((function(t){g.errors(e,t)})):g.danger(this,"Please Answer The Question First","Question Not Answered")):g.danger(this,"Please create a Nickname first","No Participant Nickname")},goBack:function(){this.tabIndex=this.tabIndex-1},saveResult:function(){var e=this;this.getResultTexts({surveyId:this.survey.id,participantId:this.participant.id}).then((function(){e.showResults=!0}))},updateRadio:function(){console.log("clicked"),console.log(this.survey.questions)}})},Ae=$e,Qe=(n("1f21"),Object(i["a"])(Ae,qe,Ie,!1,null,"7565da3e",null)),Te=Qe.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.participant.id?n("p",[e._v(" Taking Part as: "),n("strong",[e._v(e._s(e.participant.nickname))]),e._v(" "),n("a",{attrs:{href:"#"},on:{click:e.changeParticipant}},[e._v("Change")]),e._v(" "),n("a",{attrs:{href:"#"},on:{click:e.removeParticipant}},[e._v("Remove")])]):n("p",[n("a",{attrs:{href:"#"},on:{click:e.showParticipantModal}},[e._v("Please create a Participant nickname first")])]),e._v(" "),n("b-modal",{attrs:{id:"participant","hide-footer":""}},[n("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.doCreateParticipant.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Nickname","label-for":"email-input","invalid-feedback":"Nickname is required",type:"text"}},[n("b-form-input",{attrs:{id:"nicknanme-input",required:""},model:{value:e.form.nickname,callback:function(t){e.$set(e.form,"nickname",t)},expression:"form.nickname"}})],1),n("b-form-group",[n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Create")])],1)],1)])],1)},Ee=[],Fe=(n("e9c4"),{name:"Participant",data:function(){return{form:[],participant:{}}},mounted:function(){localStorage.participant&&(this.participant=JSON.parse(localStorage.participant))},computed:Object(m["a"])({},Object(b["c"])({})),methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createParticipant:"participant/createParticipant",getParticipant:"participant/getParticipant"})),{},{showParticipantModal:function(){this.$bvModal.show("participant")},changeParticipant:function(){this.$bvModal.show("participant")},removeParticipant:function(){localStorage.removeItem("participant"),this.participant={}},doCreateParticipant:function(){var e=this;this.createParticipant({payload:{nickname:this.form.nickname}}).then((function(t){localStorage.participant=JSON.stringify(t),g.success(e,"Participant Created with nickname: ".concat(t.nickname),"Participant Created"),e.getParticipant({id:t.id}),e.participant=t,e.$bvModal.hide("participant")})).catch((function(t){g.errors(e,t)}))}})}),Ne=Fe,Ue=(n("bf29"),Object(i["a"])(Ne,De,Ee,!1,null,"b4ebcbce",null)),Ce=Ue.exports,Me={name:"Survey",data:function(){return{showEdit:!1}},components:{TopNav:T,SurveyForm:xe,SurveyComponent:Te,Participant:Ce},mounted:function(){document.title="Survey";var e={};localStorage.participant&&(e=JSON.parse(localStorage.participant),this.getSurvey({id:this.$route.params.slug,participantId:e.id})),e&&e.id||(this.$bvModal.show("participant"),this.getSurvey({id:this.$route.params.slug}))},computed:Object(m["a"])({},Object(b["c"])({survey:"survey/survey",user:"auth/getUser",participant:"participant/participant"})),methods:Object(m["a"])({},Object(b["b"])({getSurvey:"survey/getSurvey",createParticipant:"participant/createParticipant",getParticipant:"participant/getParticipant"}))},Je=Me,Le=(n("c785"),Object(i["a"])(Je,X,Y,!1,null,"9cf24bbe",null)),He=Le.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"survey"},[n("TopNav"),n("div",[n("b-container",[n("b-card",{attrs:{title:"New Survey"}},[n("SurveyForm")],1)],1)],1)],1)},Ve=[],Ge={name:"QuestionForm",components:{AnswerForm:ue},props:{surveyId:null,questionInfo:{}},data:function(){return{form:{},answers:[],questionId:null,tabIndex:0}},methods:Object(m["a"])(Object(m["a"])({},Object(b["b"])({createQuestion:"question/createQuestion",updateQuestion:"question/updateQuestion",deleteQuestion:"question/deleteQuestion"})),{},{saveQuestion:function(){var e=this;this.form.survey_id=this.surveyId,this.questionId?this.updateQuestion({payload:this.form,id:this.questionId}).then((function(t){e.$emit("questionAdded",{data:t,key:e.$vnode.key}),g.success(e,"Question Successfully Updated","Question Updated")})).catch((function(t){g.errors(e,t)})):this.createQuestion({payload:this.form}).then((function(t){e.questionId=t.id,e.$emit("questionAdded",{data:t,key:e.$vnode.key}),g.success(e,"Question Successfully Saved","Question Saved")})).catch((function(t){g.errors(e,t)}))},doDelete:function(){this.deleteQuestion({id:this.questionId}),this.$emit("questionDeleted",this.questionId),this.questionId=null},addAnswerComponent:function(){var e=this,t=this.answers.length;this.answers.push({}),this.$nextTick((function(){e.$nextTick((function(){e.$nextTick((function(){requestAnimationFrame((function(){e.tabIndex=t}))}))}))}))},answerDeleted:function(e){console.log(e);for(var t=0;t<this.answers.length;t++)t===e&&this.answers.splice(t,1);0===this.tabIndex?this.tabIndex++:this.tabIndex--},answerAdded:function(e){console.log(e,this.answers),this.answers[e.key]=e.data}}),computed:Object(m["a"])({},Object(b["c"])({question:"question/question"})),mounted:function(){0!==Object.keys(this.questionInfo).length&&(this.questionId=this.questionInfo.id,this.form=this.questionInfo,this.questionInfo.answers?this.answers=this.questionInfo.answers:this.answers=[])}},ze={name:"NewSurvey",components:{TopNav:T,SurveyForm:xe,QuestionForm:Ge},mounted:function(){document.title="New Survey"}},We=ze,Ke=(n("3287"),Object(i["a"])(We,Be,Ve,!1,null,"ab69ebfe",null)),Xe=Ke.exports;r["default"].use(c["a"]);var Ye=[{path:"/",name:"Home",component:K},{path:"/survey/add",name:"NewSurvey",component:Xe},{path:"/survey/:slug",name:"Survey",component:He}],Ze=new c["a"]({mode:"history",base:"/",routes:Ye,linkActiveClass:"active",linkExactActiveClass:"exact-active"}),et=Ze,tt=(n("a4d3"),n("e01a"),n("d3b7"),n("99af"),{survey:{id:null,title:null,description:null,slug:null,questions:[],rules:[],results:[]},surveys:[]}),nt=tt,rt=n("1da1"),at=(n("96cf"),n("d9e2"),n("bc3a")),st=n.n(at),it="http://localhost:888/api/",ot={fetch:function(){var e=Object(rt["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r&&(t=t+"/"+r),!n){e.next=11;break}return e.prev=2,e.next=5,st.a.post(it+t,n);case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e["catch"](2),e.abrupt("return",e.t0);case 11:throw new Error("FormData is missing");case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),get:function(){var e=Object(rt["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n&&(t=t+"/"+n),e.prev=1,e.next=4,st.a.get(it+t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(rt["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,st.a.delete(it+t+"/"+n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}()},ut=ot,lt={namespaced:!0,state:nt,getters:{survey:function(e){return e.survey},surveys:function(e){return e.surveys},surveyResultTexts:function(e){return e.survey.results}},mutations:{setSurvey:function(e,t){var n=t.payload;e.survey.id=n.id,e.survey.title=n.title,e.survey.description=n.description,e.survey.slug=n.slug,e.survey.questions=n.questions,e.survey.questions&&e.survey.questions[0]&&e.survey.questions.map((function(e,t){n.questions[t].results&&n.questions[t].results[0]&&(e.selectedAnswerId=n.questions[t].results[0]["answer_id"],e.resultId=n.questions[t].results[0]["id"])})),e.survey.rules=n.rules,e.survey.results=n.results},setSurveys:function(e,t){var n=t.payload;e.surveys=n},setSurveyResults:function(e,t){var n=t.payload;e.survey.results=n.result_texts}},actions:{getSurvey:function(e,t){var n=e.commit,r=t.id,a=t.participantId;return new Promise((function(e,t){var s="survey/".concat(r);a&&(s+="?participantId=".concat(a)),ut.get(s).then((function(r){var a;200===r.status?(n("setSurvey",{payload:r.data}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},getSurveys:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("survey").then((function(r){var a;200===r.status?(t("setSurveys",{payload:r.data}),e(!0)):n(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},createSurvey:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("title",r.title),a.append("description",r.description),a.append("slug",r.slug),ut.fetch("survey",a).then((function(r){var a;201===r.status?(n("setSurvey",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},updateSurvey:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("title",r.title),s.append("description",r.description),s.append("slug",r.slug),s.append("_method","PUT"),ut.fetch("survey",s,a).then((function(r){var a;200===r.status?(n("setSurvey",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},getResultTexts:function(e,t){var n=e.commit,r=t.surveyId,a=t.participantId;return new Promise((function(e,t){ut.get("survey/".concat(r,"/results/").concat(a)).then((function(r){var a;200===r.status?(n("setSurveyResults",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},deleteQuestion:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("survey",r).then((function(r){var a;204===r.status?(n("setSurvey",{payload:nt.survey}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))}}},ct={question:{id:null,question_text:null,survey_id:null,answers:[],selectedAnswerId:null},questions:[]},dt=ct,pt={namespaced:!0,state:dt,getters:{question:function(e){return e.question},questions:function(e){return e.questions}},mutations:{setQuestion:function(e,t){var n=t.payload;e.question.id=n.id,e.question.question_text=n.question_text,e.question.answers=n.answers,e.question.survey_id=n.survey_id},setQuestions:function(e,t){var n=t.payload;e.questions=n}},actions:{getQuestion:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.get("question",r).then((function(r){200===r.status?(n("setQuestion",{payload:r.data}),e(!0)):t("response?.response?.data?.error")}))}))},getQuestions:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("question").then((function(r){200===r.status?(t("setQuestions",{payload:r.data}),e(!0)):n("response?.response?.data?.error")}))}))},createQuestion:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("question_text",r.question_text),a.append("survey_id",r.survey_id),ut.fetch("question",a).then((function(r){201===r.status?(n("setQuestion",{payload:r.data}),e(r.data)):t("response?.response?.data?.error")}))}))},updateQuestion:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("question_text",r.question_text),s.append("survey_id",r.survey_id),s.append("_method","PUT"),ut.fetch("question",s,a).then((function(r){var a,s;200===r.status?(n("setQuestion",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)}))}))},deleteQuestion:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("question",r).then((function(r){var a,s;204===r.status?(n("setQuestion",{payload:dt.question}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.error)}))}))}}},ft={answer:{id:null,answer_text:null,question_id:null,value:null,results:[]},answers:[]},vt=ft,mt={namespaced:!0,state:vt,getters:{answer:function(e){return e.answer},answers:function(e){return e.answers}},mutations:{setAnswer:function(e,t){var n=t.payload;e.answer.id=n.id,e.answer.answer_text=n.answer_text,e.answer.question_id=n.question_id,e.answer.value=n.value,e.answer.results=n.results},setAnswers:function(e,t){var n=t.payload;e.answers=n}},actions:{getAnswer:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.get("answer",r).then((function(r){200===r.status?(n("setAnswer",{payload:r.data}),e(!0)):t("response?.response?.data?.error")}))}))},getAnswers:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("answer").then((function(r){200===r.status?(t("setAnswers",{payload:r.data}),e(!0)):n("response?.response?.data?.error")}))}))},createAnswer:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("answer_text",r.answer_text),a.append("value",r.value),a.append("question_id",r.question_id),ut.fetch("answer",a).then((function(r){201===r.status?(n("setAnswer",{payload:r.data}),e(r.data)):t("response?.response?.data?.error")}))}))},updateAnswer:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("answer_text",r.answer_text),s.append("value",r.value),s.append("question_id",r.question_id),s.append("_method","PUT"),ut.fetch("answer",s,a).then((function(r){200===r.status?(n("setAnswer",{payload:r.data}),e(r.data)):t("response?.response?.data?.error")}))}))},deleteAnswer:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("answer",r).then((function(r){204===r.status?(n("setAnswer",{payload:vt.answer}),e(!0)):t("response?.response?.data?.error")}))}))}}},bt={user:{id:null,email:null,name:null}},ht=bt,yt={namespaced:!0,state:ht,getters:{getUser:function(e){return e.user}},mutations:{setUser:function(e,t){var n=t.payload;e.user.id=n.id,e.user.email=n.email,e.user.name=n.name}},actions:{login:function(e,t){var n=e.commit,r=t.email,a=t.password;return new Promise((function(e,t){var s=new FormData;s.append("email",r),s.append("password",a),ut.fetch("login",s).then((function(r){var a,s,i,o;200===r.status?(n("setUser",{payload:null===(a=r.data)||void 0===a?void 0:a.user}),localStorage.token=null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.token,localStorage.user=JSON.stringify(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.user),e(!0)):t(null===r||void 0===r||null===(o=r.response)||void 0===o?void 0:o.data)}))}))},register:function(e,t){var n=e.commit,r=t.name,a=t.email,s=t.password;return new Promise((function(e,t){var i=new FormData;i.append("name",r),i.append("email",a),i.append("password",s),ut.fetch("register",i).then((function(r){var a,s,i,o;200===r.status?(n("setUser",{payload:null===(a=r.data)||void 0===a?void 0:a.user}),localStorage.token=null===r||void 0===r||null===(s=r.data)||void 0===s?void 0:s.token,localStorage.user=JSON.stringify(null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.user),e(!0)):t(null===r||void 0===r||null===(o=r.response)||void 0===o?void 0:o.data)}))}))},logout:function(e){var t=e.commit;t("setUser",{payload:{name:null,email:null,id:null}}),localStorage.removeItem("user"),localStorage.removeItem("token"),et.push("/")},setUser:function(e){var t=e.commit;localStorage.user&&t("setUser",{payload:JSON.parse(localStorage.user)})}}},wt={result:{id:null,answer_id:null,question_id:null,survey_id:null,participant_id:null},results:[]},gt=wt,_t={namespaced:!0,state:gt,getters:{result:function(e){return e.result},results:function(e){return e.results}},mutations:{setResult:function(e,t){var n=t.payload;e.result.id=n.id,e.result.answer_id=n.answer_id,e.result.question_id=n.question_id,e.result.survey_id=n.survey_id,e.result.participant_id=n.participant_id},setResults:function(e,t){var n=t.payload;e.results=n}},actions:{getResult:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.get("result",r).then((function(r){var a;200===r.status?(n("setResult",{payload:r.data}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},getResults:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("result").then((function(r){var a;200===r.status?(t("setResults",{payload:r.data}),e(!0)):n(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},createResult:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("answer_id",r.answer_id),a.append("question_id",r.question_id),a.append("survey_id",r.survey_id),a.append("participant_id",r.participant_id),ut.fetch("result",a).then((function(r){var a;201===r.status?(n("setResult",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},updateResult:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("answer_id",r.answer_id),s.append("question_id",r.question_id),s.append("survey_id",r.survey_id),s.append("participant_id",r.participant_id),s.append("_method","PUT"),ut.fetch("result",s,a).then((function(r){var a;200===r.status?(n("setResult",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},deleteResult:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("result",r).then((function(r){var a;204===r.status?(n("setResult",{payload:gt.result}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))}}},xt={participant:{id:null,nickname:null},participants:[]},qt=xt,It={namespaced:!0,state:qt,getters:{participant:function(e){return e.participant},participants:function(e){return e.participants}},mutations:{setParticipant:function(e,t){var n=t.payload;console.log(n.id),e.participant.id=n.id,e.participant.nickname=n.nickname},setParticipants:function(e,t){var n=t.payload;e.participants=n}},actions:{getParticipant:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.get("participant",r).then((function(r){var a;200===r.status?(n("setParticipant",{payload:r.data}),localStorage.participant=JSON.stringify(null===r||void 0===r?void 0:r.data),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},getParticipants:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("participant").then((function(r){var a;200===r.status?(t("setParticipants",{payload:r.data}),e(!0)):n(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},createParticipant:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("nickname",r.nickname),ut.fetch("participant",a).then((function(r){var a;201===r.status?(n("setParticipant",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},updateParticipant:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("nickname",r.nickname),s.append("_method","PUT");try{ut.fetch("participant",s,a).then((function(r){var a;200===r.status?(n("setParticipant",{payload:r.data}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}catch(i){console.log(i)}}))},deleteParticipant:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("participant",r).then((function(r){var a;204===r.status?(n("setParticipant",{payload:qt.participant}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))}}},kt={rule:{id:null,logic:null,result_text:null,survey_id:null},rules:[]},St=kt,Ot={namespaced:!0,state:St,getters:{rule:function(e){return e.rule},rules:function(e){return e.rules}},mutations:{setRule:function(e,t){var n=t.payload;console.log(n),e.rule.id=n.id,e.rule.logic=n.logic,e.rule.result_text=n.result_text,e.rule.survey_id=n.survey_id},setRules:function(e,t){var n=t.payload;e.rules=n}},actions:{getRule:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.get("rule",r).then((function(r){var a;200===r.status?(n("setRule",{payload:r.data}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},getRules:function(e){var t=e.commit;return new Promise((function(e,n){ut.get("rule").then((function(r){var a;200===r.status?(t("setRules",{payload:r.data}),e(!0)):n(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},createRule:function(e,t){var n=e.commit,r=t.payload;return new Promise((function(e,t){var a=new FormData;a.append("id",r.id),a.append("logic",r.logic),a.append("result_text",r.result_text),a.append("survey_id",r.survey_id),ut.fetch("rule",a).then((function(r){var a;201===r.status?(n("setRule",{payload:r.data}),e(r.data)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},updateRule:function(e,t){var n=e.commit,r=t.payload,a=t.id;return new Promise((function(e,t){var s=new FormData;s.append("logic",r.logic),s.append("result_text",r.result_text),s.append("survey_id",r.survey_id),s.append("_method","PUT"),ut.fetch("rule",s,a).then((function(r){var a;200===r.status?(n("setRule",{payload:r.data}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))},deleteRule:function(e,t){var n=e.commit,r=t.id;return new Promise((function(e,t){ut.delete("rule",r).then((function(r){var a;204===r.status?(n("setRule",{payload:St.rule}),e(!0)):t(null===r||void 0===r||null===(a=r.response)||void 0===a?void 0:a.data)}))}))}}};r["default"].use(b["a"]);var Pt=new b["a"].Store({state:{},mutations:{},actions:{},modules:{survey:lt,auth:yt,question:pt,answer:mt,result:_t,participant:It,rule:Ot}}),jt=n("5f5b"),Rt=n("b1e0"),$t=(n("f9e3"),n("2dd8"),n("abe2"),n("498a"));r["default"].use($t["a"]),r["default"].use(jt["a"]),r["default"].use(Rt["a"]),r["default"].config.productionTip=!1,new r["default"]({router:et,store:Pt,render:function(e){return e(l)}}).$mount("#app")},"5b32":function(e,t,n){},"5c0b":function(e,t,n){"use strict";n("9c0c")},"60bd":function(e,t,n){},"84fa":function(e,t,n){"use strict";n("60bd")},"9c0c":function(e,t,n){},abe2:function(e,t,n){},b961:function(e,t,n){},bf29:function(e,t,n){"use strict";n("5b32")},bf43:function(e,t,n){},c291:function(e,t,n){},c785:function(e,t,n){"use strict";n("2791")},de7b:function(e,t,n){},fe0a:function(e,t,n){}});
//# sourceMappingURL=app.3aab9074.js.map